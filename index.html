<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#E10600" />
  <title>SCORE Store | Merch Oficial Off-Road</title>

  <meta name="description" content="Tienda oficial SCORE International. ColecciÃ³n Baja 1000 â€“ EdiciÃ³n 2025 y ediciones anteriores." />

  <link rel="canonical" href="https://scorestore.netlify.app/" />
  <link rel="manifest" href="/site.webmanifest" />
  <link rel="icon" href="/assets/icons-score.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/assets/logo-score.webp" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Teko:wght@600;700&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <script src="https://js.stripe.com/v3/" async></script>

<style>
:root{
  --red:#E10600;
  --dark:#0b0f14;
  --gray:#f4f4f4;
  --green:#00C853;
  --radius:16px;
  --shadow:0 10px 30px rgba(0,0,0,.15);
  --title:"Teko",sans-serif;
  --body:"Inter",sans-serif;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:var(--body);
  background:#f8f8f8;
  color:#111;
}
img{max-width:100%;display:block}
button{font-family:inherit}

.topbar{
  position:fixed;top:0;left:0;right:0;
  height:70px;
  background:#fff;
  border-bottom:3px solid var(--red);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 16px;
  z-index:100;
}
.brand img{height:46px}
.cartBtn{
  background:#111;
  color:#fff;
  border:none;
  padding:10px 14px;
  border-radius:12px;
  display:flex;
  gap:8px;
  align-items:center;
}
.cartCount{
  background:var(--red);
  padding:2px 6px;
  font-size:12px;
  border-radius:6px;
}

.wrap{
  max-width:1200px;
  margin:auto;
  padding:90px 16px 120px;
}

/* HERO */
.hero{
  background:url('/assets/hero.webp') center/cover;
  border-radius:20px;
  min-height:520px;
  color:#fff;
  position:relative;
  box-shadow:var(--shadow);
}
.hero::before{
  content:"";
  position:absolute;inset:0;
  background:linear-gradient(180deg,rgba(0,0,0,.65),rgba(0,0,0,.85));
  border-radius:20px;
}
.heroContent{
  position:relative;
  padding:32px;
  max-width:600px;
}
.hero h1{
  font-family:var(--title);
  font-size:clamp(48px,9vw,96px);
  margin:0;
  line-height:.9;
}
.hero p{
  font-size:16px;
  margin:16px 0 24px;
  border-left:4px solid var(--red);
  padding-left:14px;
}
.heroActions{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.btn{
  border:none;
  border-radius:12px;
  padding:14px 22px;
  font-weight:800;
  text-transform:uppercase;
}
.btn.primary{background:#fff;color:#111}
.btn.secondary{background:transparent;color:#fff;border:1px solid #fff}

/* GRID */
.sectionTitle{
  font-family:var(--title);
  font-size:42px;
  margin:60px 0 20px;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}
.card{
  background:#111;
  border-radius:20px;
  color:#fff;
  overflow:hidden;
  position:relative;
}
.card img{
  width:100%;
  height:220px;
  object-fit:contain;
  background:#000;
}
.cardContent{
  padding:16px;
  text-align:center;
}
.badge{
  position:absolute;
  top:12px;left:12px;
  background:var(--green);
  color:#000;
  font-size:11px;
  font-weight:800;
  padding:6px 10px;
  border-radius:6px;
}
.card button{
  margin-top:12px;
  width:100%;
}

/* MODAL */
.overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  z-index:200;
}
.overlay.active{display:block}

.modal{
  position:fixed;
  inset:0;
  background:#fff;
  z-index:210;
  transform:translateY(100%);
  transition:.3s;
  display:flex;
  flex-direction:column;
}
.modal.active{transform:translateY(0)}
.modalHeader{
  padding:16px;
  border-bottom:1px solid #ddd;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.modalHeader h3{
  margin:0;
  font-family:var(--title);
  font-size:28px;
}
.modalGrid{
  padding:16px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:16px;
  overflow:auto;
  background:var(--gray);
}
.prod{
  background:#fff;
  border-radius:14px;
  padding:12px;
  text-align:center;
}
.prod img{
  height:180px;
  object-fit:contain;
}
.prod .price{
  color:var(--red);
  font-weight:900;
}

/* CARRITO */
.drawer{
  position:fixed;
  right:0;top:0;
  width:100%;
  max-width:420px;
  height:100%;
  background:#fff;
  transform:translateX(100%);
  transition:.3s;
  z-index:300;
  display:flex;
  flex-direction:column;
}
.drawer.active{transform:translateX(0)}
.drawerHeader{
  padding:16px;
  border-bottom:1px solid #ddd;
  display:flex;
  justify-content:space-between;
}
.drawerBody{
  padding:16px;
  flex:1;
  overflow:auto;
}
.cartItem{
  display:flex;
  gap:10px;
  background:#f4f4f4;
  padding:10px;
  border-radius:12px;
  margin-bottom:10px;
}
.cartItem img{
  width:60px;height:60px;object-fit:contain;
}
.drawerFooter{
  padding:16px;
  border-top:1px solid #ddd;
}
.total{
  font-size:22px;
  font-weight:900;
  margin-bottom:12px;
}
</style>
</head>

<body>

<header class="topbar">
  <a class="brand" href="/"><img src="/assets/logo-score.webp" alt="SCORE"></a>
  <button class="cartBtn" onclick="openDrawer()">
    ðŸ›’ <span id="cartCount" class="cartCount">0</span>
  </button>
</header>

<main class="wrap">

<section class="hero">
  <div class="heroContent">
    <h1>SCORE<br>INTERNATIONAL</h1>
    <p>Merch oficial Baja 1000. EdiciÃ³n 2025 y ediciones pasadas.</p>
    <div class="heroActions">
      <button class="btn primary" onclick="scrollToGrid()">Comprar colecciÃ³n</button>
      <button class="btn secondary" onclick="openDrawer()">Ver carrito</button>
    </div>
  </div>
</section>

<h2 class="sectionTitle" id="grid">Campeonatos</h2>

<div class="grid">
  <div class="card" onclick="openCatalog()">
    <span class="badge">Disponible</span>
    <img src="/assets/logo-baja1000.webp" alt="Baja 1000">
    <div class="cardContent">
      <button class="btn primary">Ver productos</button>
    </div>
  </div>
</div>

</main>

<div class="overlay" id="overlay" onclick="closeAll()"></div>

<div class="modal" id="catalog">
  <div class="modalHeader">
    <h3>BAJA 1000</h3>
    <button onclick="closeAll()">âœ•</button>
  </div>
  <div class="modalGrid" id="catalogGrid"></div>
</div>

<div class="drawer" id="drawer">
  <div class="drawerHeader">
    <h3>Tu equipo</h3>
    <button onclick="closeAll()">âœ•</button>
  </div>
  <div class="drawerBody" id="cartBody"></div>
  <div class="drawerFooter">
    <div class="total" id="cartTotal">$0 MXN</div>
    <button class="btn primary" style="width:100%">Ir a pagar</button>
  </div>
</div>

<script>
let cart=[];
const $=id=>document.getElementById(id);

function scrollToGrid(){
  document.getElementById('grid').scrollIntoView({behavior:'smooth'});
}

async function openCatalog(){
  const res=await fetch('/data/catalog.json');
  const data=await res.json();
  const grid=$('catalogGrid');
  grid.innerHTML='';
  data.products.forEach(p=>{
    grid.innerHTML+=`
      <div class="prod">
        <img src="${p.img}">
        <strong>${p.name}</strong>
        <div class="price">$${p.baseMXN}</div>
        <button class="btn primary" onclick="add('${p.id}','${p.name}',${p.baseMXN},'${p.img}')">Agregar</button>
      </div>`;
  });
  $('catalog').classList.add('active');
  $('overlay').classList.add('active');
}

function add(id,name,price,img){
  cart.push({id,name,price,img});
  updateCart();
  closeAll();
  openDrawer();
}

function updateCart(){
  $('cartCount').innerText=cart.length;
  $('cartBody').innerHTML=cart.map(i=>`
    <div class="cartItem">
      <img src="${i.img}">
      <div>
        <strong>${i.name}</strong><br>
        $${i.price}
      </div>
    </div>`).join('');
  $('cartTotal').innerText=`$${cart.reduce((a,b)=>a+b.price,0)} MXN`;
}

function openDrawer(){ $('drawer').classList.add('active'); $('overlay').classList.add('active'); }
function closeAll(){
  $('drawer').classList.remove('active');
  $('catalog').classList.remove('active');
  $('overlay').classList.remove('active');
}
</script>

</body>
</html>