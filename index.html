<!DOCTYPE html>
<html lang="es-MX">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SCORE Store | Tienda Oficial Off-Road</title>

  <meta name="description" content="Merch Off-Road de alto rendimiento. Ediciones limitadas. Env√≠os a todo M√©xico y pickup en Tijuana. Operado por √önico Uniformes." />
  <meta name="theme-color" content="#E10600" />
  <meta name="robots" content="index,follow" />

  <!-- SEO / Social -->
  <link rel="canonical" href="https://scorestore.netlify.app/" />
  <meta property="og:title" content="SCORE Store | Tienda Oficial Off-Road" />
  <meta property="og:description" content="Ediciones limitadas. Env√≠os a todo M√©xico. Pago seguro. Operado por √önico Uniformes." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://scorestore.netlify.app/" />
  <meta property="og:image" content="https://scorestore.netlify.app/assets/hero.webp" />

  <!-- PWA -->
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png" />

  <!-- Icons -->
  <link rel="icon" href="/icons-score.svg" type="image/svg+xml" />

  <!-- Sitemap / Robots rel -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
  <link rel="robots" href="/robots.txt" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Teko:wght@700&display=swap" rel="stylesheet" />

  <!-- Performance -->
  <link rel="preload" href="/assets/hero.webp" as="image" fetchpriority="high" />
  <link rel="preload" href="/assets/fondo-pagina-score.webp" as="image" />
  <link rel="preload" href="/assets/baja1000-texture.webp" as="image" />
  <link rel="stylesheet" href="/css/styles.css" />
</head>

<body>
  <a class="skipLink" href="#mainContent">Saltar al contenido</a>

  <div class="page-bg" aria-hidden="true"></div>
  <div class="dust-container" aria-hidden="true"><div class="dust"></div></div>

  <!-- HEADER -->
  <header class="topbar">
    <a class="brand" href="/" aria-label="Ir al inicio">
      <img src="/assets/logo-score.webp" alt="SCORE Store" />
    </a>

    <div class="navRight">
      <div class="pill" title="Operaci√≥n principal en Tijuana, BC">MX ¬∑ <b>TIJUANA</b></div>

      <button id="cartBtnTrigger" class="cartTrigger" type="button"
        aria-label="Abrir carrito (0 art√≠culos)" aria-expanded="false">
        <span class="cartIcon" aria-hidden="true">üõí</span>
        <span id="cartCount" class="cartCount" aria-live="polite">0</span>
      </button>
    </div>
  </header>

  <main id="mainContent" class="wrap" tabindex="-1">
    <!-- HERO -->
    <section class="hero" aria-label="Portada">
      <div class="heroBg" aria-hidden="true"></div>
      <div class="heroOverlay" aria-hidden="true"></div>

      <!-- SELLO WORLD DESERT (arriba derecha) -->
      <img class="heroSeal" src="/assets/logo-world-desert.webp" alt="World Desert Championship" loading="lazy" />

      <div class="heroContent">
        <span class="tagline">COLECCI√ìN OFICIAL 2025</span>

        <h1>SCORE<br />INTERNATIONAL</h1>

        <p class="sub">
          Equipamiento profesional Off-Road.<br />
          <strong>√önico Uniformes, patrocinador y fabricante oficial.</strong>
        </p>

        <ul class="heroBullets" aria-label="Beneficios">
          <li>üì¶ <strong>Env√≠os a todo M√©xico</strong> y pickup en Tijuana</li>
          <li>üîí <strong>Pago seguro</strong> con Stripe</li>
          <li>üßµ <strong>Calidad profesional</strong> (bordado y confecci√≥n premium)</li>
        </ul>

        <div class="ctaRow">
          <button id="buyNowBtn" class="btn primary" type="button" data-open="BAJA_1000" data-title="BAJA 1000">
            COMPRAR AHORA
          </button>
          <button id="viewCartBtn" class="btn secondary" type="button">
            VER CARRITO
          </button>
        </div>

        <div class="trustRow" aria-label="Confianza y seguridad">
          <div class="trustPill">‚úÖ Ediciones limitadas</div>
          <div class="trustPill">üöö Tracking y soporte</div>
          <div class="trustPill">‚ö° Compra r√°pida</div>
        </div>
      </div>
    </section>

    <!-- CAT√ÅLOGO (TARJETAS) -->
    <section class="championships" aria-label="Cat√°logo oficial">
      <h2>CAT√ÅLOGO OFICIAL</h2>

      <div class="catalogGrid">
        <button class="champCard" type="button" data-open="BAJA_1000" data-title="BAJA 1000">
          <span class="badge available">DISPONIBLE</span>
          <img class="champLogo" src="/assets/logo-baja1000.webp" alt="BAJA 1000" loading="lazy" />
          <div class="champMeta">
            <strong>BAJA 1000</strong>
            <span>Ver productos</span>
          </div>
          <span class="champArrow" aria-hidden="true">‚Üí</span>
        </button>

        <button class="champCard" type="button" data-open="BAJA_500" data-title="BAJA 500">
          <span class="badge available">DISPONIBLE</span>
          <img class="champLogo" src="/assets/logo-baja500.webp" alt="BAJA 500" loading="lazy" />
          <div class="champMeta">
            <strong>BAJA 500</strong>
            <span>Ver productos</span>
          </div>
          <span class="champArrow" aria-hidden="true">‚Üí</span>
        </button>

        <button class="champCard" type="button" data-open="BAJA_400" data-title="BAJA 400">
          <span class="badge available">DISPONIBLE</span>
          <img class="champLogo" src="/assets/logo-baja400.webp" alt="BAJA 400" loading="lazy" />
          <div class="champMeta">
            <strong>BAJA 400</strong>
            <span>Ver productos</span>
          </div>
          <span class="champArrow" aria-hidden="true">‚Üí</span>
        </button>

        <button class="champCard" type="button" data-open="SF_250" data-title="SAN FELIPE 250">
          <span class="badge limited">EDICI√ìN LIMITADA</span>
          <img class="champLogo" src="/assets/logo-sf250.webp" alt="SAN FELIPE 250" loading="lazy" />
          <div class="champMeta">
            <strong>SAN FELIPE 250</strong>
            <span>Ver productos</span>
          </div>
          <span class="champArrow" aria-hidden="true">‚Üí</span>
        </button>
      </div>
    </section>

    <!-- PARTNERS (antes del footer) -->
    <section class="partners" aria-label="Official partners">
      <h3>OFFICIAL PARTNERS</h3>
      <div class="partnerGrid">
        <img src="/assets/logo-ford.webp" alt="Ford" loading="lazy" />
        <img src="/assets/logo-rzr.webp" alt="RZR" loading="lazy" />
        <img src="/assets/logo-bfgoodrich.webp" alt="BFGoodrich" loading="lazy" />
        <img src="/assets/logo-unico.webp" alt="√önico Uniformes" loading="lazy" />
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer" aria-label="Informaci√≥n legal y contacto">
      <div class="footerCard">
        <div class="footerTop">
          <div class="footerBrand">
            <img class="footerUnicoWhite" src="/assets/logo-unico.webp" alt="√önico Uniformes" loading="lazy" />
            <p class="footerSmall">
              Official Licensed Merchandise.<br />
              Distribuidor autorizado.
            </p>
          </div>

          <div class="footerCol">
            <div class="footerH">Redes</div>
            <div class="socialRow">
              <a class="socialBtn" href="#" aria-label="Facebook">
                <!-- Facebook (SVG oficial estilo simple) -->
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 12a10 10 0 1 0-11.6 9.9v-7H7.9v-2.9h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.4H15.9c-1.2 0-1.6.7-1.6 1.5v1.8h2.8l-.5 2.9h-2.3v7A10 10 0 0 0 22 12z"/></svg>
              </a>
              <a class="socialBtn" href="#" aria-label="Instagram">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-5 4.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm0 2A1.5 1.5 0 1 0 13.5 12 1.5 1.5 0 0 0 12 10.5zM17.8 6.2a.8.8 0 1 1-.8.8.8.8 0 0 1 .8-.8z"/></svg>
              </a>
              <a class="socialBtn" href="#" aria-label="YouTube">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.8 4.6 12 4.6 12 4.6s-5.8 0-7.5.5A3 3 0 0 0 2.4 7.2 31 31 0 0 0 2 12a31 31 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.7.5 7.5.5 7.5.5s5.8 0 7.5-.5a3 3 0 0 0 2.1-2.1A31 31 0 0 0 22 12a31 31 0 0 0-.4-4.8zM10 15.5v-7l6 3.5-6 3.5z"/></svg>
              </a>
            </div>
          </div>

          <div class="footerCol">
            <div class="footerH">Contacto y legal</div>
            <p class="footerSmall">
              Calle Palermo 6106 Interior JK,<br />
              Col. Anexa Roma, Tijuana, B.C., C.P. 22614
            </p>
            <p class="footerSmall">
              <a class="footerLink" href="mailto:ventas@scorestore.com">ventas@scorestore.com</a>
            </p>

            <p class="footerSmall">Precios en MXN (Pesos Mexicanos). Incluyen IVA.</p>

            <div class="footerLegalRow">
              <button class="miniPill" type="button" data-legal="terms">T√©rminos</button>
              <button class="miniPill" type="button" data-legal="privacy">Privacidad</button>
              <a class="miniPill link" href="/sitemap.xml" rel="sitemap">Sitemap</a>
            </div>
          </div>
        </div>

        <div class="footerBottom">
          <span>¬© <span id="year"></span> SCORE International. Todos los derechos reservados.</span>
        </div>
      </div>
    </footer>
  </main>

  <!-- OVERLAY -->
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <!-- MODAL CAT√ÅLOGO -->
  <section id="modalCatalog" class="modal" role="dialog" aria-modal="true" aria-labelledby="catTitle" aria-hidden="true">
    <div class="dHead">
      <h3 id="catTitle" class="dTitle"></h3>
      <button class="closeBtn" type="button" aria-label="Cerrar" data-close="all">√ó</button>
    </div>
    <div id="catContent" class="catContent"></div>
  </section>

  <!-- DRAWER CARRITO -->
  <aside id="drawer" class="drawer" role="dialog" aria-modal="true" aria-labelledby="cartTitle" aria-hidden="true">
    <div class="dHead">
      <h3 id="cartTitle" class="dTitle">MI CARRITO</h3>
      <button class="closeBtn" type="button" aria-label="Cerrar" data-close="all">√ó</button>
    </div>

    <div id="cartBody" class="dBody"></div>

    <div class="dFoot">
      <!-- Entrega -->
      <div class="shipSelector">
        <p>M√©todo de entrega:</p>
        <label><input type="radio" name="shipMode" value="pickup" checked> Recoger en Tijuana</label>
        <label><input type="radio" name="shipMode" value="tj"> Env√≠o local Tijuana</label>
        <label><input type="radio" name="shipMode" value="mx"> Env√≠o nacional (M√©xico)</label>
      </div>

      <!-- Direcci√≥n (solo si env√≠o) -->
      <div id="shipForm" class="shipForm" style="display:none;">
        <div class="fieldRow">
          <input id="name" type="text" placeholder="Nombre completo" autocomplete="name" />
          <input id="cp" type="text" inputmode="numeric" placeholder="C.P." autocomplete="postal-code" maxlength="5" />
        </div>
        <input id="addr" type="text" placeholder="Calle y n√∫mero / Colonia" autocomplete="street-address" />
        <div class="fieldRow">
          <input id="city" type="text" placeholder="Ciudad" autocomplete="address-level2" />
          <input id="state" type="text" placeholder="Estado (ej. BC)" autocomplete="address-level1" maxlength="4" />
        </div>
        <p class="miniHelp">Tu direcci√≥n se usa solo para env√≠o y soporte. Pago seguro en Stripe.</p>
      </div>

      <!-- Cup√≥n -->
      <div class="promoRow">
        <input id="promoInput" type="text" placeholder="Cup√≥n (opcional)" maxlength="24" />
        <button id="promoApplyBtn" class="btnSm" type="button">APLICAR</button>
      </div>

      <div class="sumRow"><span>Subtotal</span><span id="lnSub">$0 MXN</span></div>

      <div id="rowDiscount" class="sumRow" style="display:none;">
        <span>Descuento</span><span id="lnDiscount">-$0 MXN</span>
      </div>

      <div id="lnShipRow" class="sumRow">
        <span>Env√≠o</span><span id="lnShip">$0 MXN</span>
      </div>

      <div class="sumRow total"><span>Total</span><span id="lnTotal">$0 MXN</span></div>
      <div class="usdHint" id="lnUsd"></div>

      <button id="payBtn" class="btn primary full" type="button" disabled>PAGAR SEGURO</button>
      <button class="ghostBtn" type="button" data-close="all">SEGUIR COMPRANDO</button>

      <p class="tinyLegal">
        Al pagar aceptas
        <button class="inlineLink" type="button" data-legal="terms">T√©rminos</button> y
        <button class="inlineLink" type="button" data-legal="privacy">Privacidad</button>.
      </p>
    </div>
  </aside>

  <!-- PAYBAR -->
  <div id="paybar" class="paybar" aria-hidden="true">
    <div>
      <div class="paybar-label">TOTAL A PAGAR</div>
      <div id="barTotal" class="paybar-total">$0 MXN</div>
    </div>
    <button class="btn-sm white" type="button" id="paybarCartBtn">VER CARRITO</button>
  </div>

  <!-- MODAL LEGAL (contenido completo dentro del index) -->
  <section id="legalModal" class="modal modalLegal" role="dialog" aria-modal="true" aria-labelledby="legalTitle" aria-hidden="true">
    <div class="dHead">
      <h3 id="legalTitle" class="dTitle">INFORMACI√ìN</h3>
      <button class="closeBtn" type="button" aria-label="Cerrar" data-close="legal">√ó</button>
    </div>

    <div class="catContent legalContent">
      <div class="legalTabs" role="tablist" aria-label="Secciones legales">
        <button class="tabBtn active" type="button" data-legal-tab="shipping">Env√≠os</button>
        <button class="tabBtn" type="button" data-legal-tab="returns">Devoluciones</button>
        <button class="tabBtn" type="button" data-legal-tab="billing">Facturaci√≥n</button>
        <button class="tabBtn" type="button" data-legal-tab="terms">T√©rminos</button>
        <button class="tabBtn" type="button" data-legal-tab="privacy">Privacidad</button>
        <button class="tabBtn" type="button" data-legal-tab="contact">Contacto</button>
      </div>

      <article class="legalBlock active" data-legal-block="shipping">
        <h4>Env√≠os</h4>
        <p>
          Ofrecemos <strong>pickup en Tijuana</strong>, <strong>env√≠o local Tijuana</strong> y <strong>env√≠o nacional</strong>.
          El costo se confirma al momento de pagar (puede calcularse por C.P. o aplicarse tarifa est√°ndar si el cotizador no est√° disponible).
        </p>
        <ul>
          <li><strong>Pickup:</strong> sin costo (coordinaci√≥n por confirmaci√≥n de compra).</li>
          <li><strong>Local TJ:</strong> tarifa fija o seg√∫n zona.</li>
          <li><strong>Nacional MX:</strong> cotizaci√≥n por C.P. / paqueter√≠a o tarifa est√°ndar.</li>
        </ul>
        <p class="small">Los tiempos dependen del destino y paqueter√≠a. Te notificamos cuando tu gu√≠a est√© lista.</p>
      </article>

      <article class="legalBlock" data-legal-block="returns">
        <h4>Cambios y devoluciones</h4>
        <p>
          Aceptamos cambios por talla o defecto de fabricaci√≥n dentro de <strong>7 d√≠as naturales</strong> desde la entrega.
          La prenda debe estar <strong>sin uso</strong>, con etiquetas y empaque original.
        </p>
        <ul>
          <li><strong>Defecto de fabricaci√≥n:</strong> cubrimos la reposici√≥n y log√≠stica necesaria.</li>
          <li><strong>Cambio por talla/modelo:</strong> puede requerir cubrir log√≠stica seg√∫n el caso.</li>
          <li><strong>Edici√≥n limitada:</strong> si no hay stock, se ofrece alternativa, cambio por otro producto o nota de cr√©dito.</li>
        </ul>
      </article>

      <article class="legalBlock" data-legal-block="billing">
        <h4>Facturaci√≥n (manual)</h4>
        <p>
          Si requieres factura, env√≠a tus datos fiscales a:
          <a href="mailto:ventas.unicotextil@gmail.com">ventas.unicotextil@gmail.com</a>
        </p>
        <p class="small">
          Incluye RFC, Raz√≥n Social, R√©gimen Fiscal, Uso CFDI, C√≥digo Postal fiscal y tu n√∫mero de orden.
          La facturaci√≥n se procesa de forma manual.
        </p>
      </article>

      <article class="legalBlock" data-legal-block="terms">
        <h4>T√©rminos y condiciones</h4>
        <p class="small">√öltima actualizaci√≥n: 30 de diciembre de 2025.</p>
        <p>
          Al acceder y comprar en este sitio, aceptas estos t√©rminos. Los pagos se procesan a trav√©s de <strong>Stripe</strong>.
          <strong>No almacenamos</strong> informaci√≥n de tarjeta en nuestros servidores.
        </p>
        <ul>
          <li><strong>Precios:</strong> se muestran en MXN e incluyen IVA, salvo indicaci√≥n expresa.</li>
          <li><strong>Disponibilidad:</strong> productos de edici√≥n limitada pueden agotarse sin previo aviso.</li>
          <li><strong>Confirmaci√≥n:</strong> al completarse el pago, recibir√°s confirmaci√≥n y tu orden entra a preparaci√≥n.</li>
          <li><strong>Prevenci√≥n de fraude:</strong> podemos cancelar pedidos con se√±ales claras de riesgo (Stripe tambi√©n valida).</li>
          <li><strong>Marcas:</strong> ‚ÄúSCORE‚Äù y marcas relacionadas pertenecen a sus respectivos titulares.</li>
        </ul>
      </article>

      <article class="legalBlock" data-legal-block="privacy">
        <h4>Aviso de privacidad</h4>
        <p class="small">√öltima actualizaci√≥n: 30 de diciembre de 2025.</p>
        <p>
          Usamos tus datos para procesar pedidos, entregas, soporte y facturaci√≥n. Stripe procesa el pago y puede recopilar
          informaci√≥n necesaria para prevenci√≥n de fraude y cumplimiento.
        </p>
        <ul>
          <li><strong>Datos:</strong> nombre, contacto, direcci√≥n de env√≠o y detalles de la orden.</li>
          <li><strong>Finalidad:</strong> log√≠stica, atenci√≥n, garant√≠as, facturaci√≥n y comunicaci√≥n de tu compra.</li>
          <li><strong>Conservaci√≥n:</strong> el tiempo necesario para soporte, cumplimiento legal y contabilidad.</li>
          <li><strong>Derechos ARCO:</strong> solicitar acceso/rectificaci√≥n/cancelaci√≥n enviando correo a <a href="mailto:ventas.unicotextil@gmail.com">ventas.unicotextil@gmail.com</a>.</li>
        </ul>
      </article>

      <article class="legalBlock" data-legal-block="contact">
        <h4>Contacto</h4>
        <p>
          Soporte y facturaci√≥n:
          <a href="mailto:ventas@scorestore.com">ventas@scorestore.com</a>
        </p>
        <p class="small">Incluye tu n√∫mero de orden para ayudarte m√°s r√°pido.</p>
      </article>
    </div>
  </section>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- App (m√≠nimo necesario para que TODO funcione aunque tu main.js no exponga globals) -->
  <script>
    // A√±o
    document.getElementById("year").textContent = new Date().getFullYear();

    // Helpers UI
    const $ = (q, r=document) => r.querySelector(q);
    const $$ = (q, r=document) => Array.from(r.querySelectorAll(q));

    const overlay = $("#overlay");
    const drawer = $("#drawer");
    const modalCatalog = $("#modalCatalog");
    const legalModal = $("#legalModal");
    const toast = $("#toast");

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=>toast.classList.remove("show"), 2600);
    }

    function lockBody(lock){
      document.body.classList.toggle("modalOpen", !!lock);
    }

    // ======= GLOBALS (para onclick antiguos o links) =======
    window.openDrawer = function(){
      overlay.classList.add("active");
      drawer.classList.add("active");
      overlay.setAttribute("aria-hidden","false");
      drawer.setAttribute("aria-hidden","false");
      lockBody(true);
      $("#cartBtnTrigger")?.setAttribute("aria-expanded","true");
      // si tu main.js tiene render, lo llamamos sin romper
      if (typeof window.renderCart === "function") { try { window.renderCart(); } catch {} }
    }

    window.closeAll = function(){
      overlay.classList.remove("active");
      drawer.classList.remove("active");
      modalCatalog.classList.remove("active");
      legalModal.classList.remove("active");
      overlay.setAttribute("aria-hidden","true");
      drawer.setAttribute("aria-hidden","true");
      modalCatalog.setAttribute("aria-hidden","true");
      legalModal.setAttribute("aria-hidden","true");
      lockBody(false);
      $("#cartBtnTrigger")?.setAttribute("aria-expanded","false");
    }

    window.openCatalog = function(sectionId, title){
      $("#catTitle").textContent = title || "CAT√ÅLOGO";
      overlay.classList.add("active");
      modalCatalog.classList.add("active");
      overlay.setAttribute("aria-hidden","false");
      modalCatalog.setAttribute("aria-hidden","false");
      lockBody(true);

      // Si tu app ya renderiza cat√°logo, solo disparamos evento
      document.dispatchEvent(new CustomEvent("score:openCatalog", { detail: { sectionId } }));
      // Fallback visual si no hay render externo
      const c = $("#catContent");
      if (c && !c.dataset.filled) {
        c.innerHTML = `
          <div class="emptyState">
            <h4>Cat√°logo listo</h4>
            <p>Si aqu√≠ no se cargan productos, revisa que tu <strong>/js/main.js</strong> escuche el evento <code>score:openCatalog</code> y pinte el cat√°logo.</p>
            <p class="small">UI y estructura ya quedaron pro. Si quieres, en el siguiente paso te doy el <strong>main.js</strong> unificado tambi√©n.</p>
          </div>
        `;
      }
    }

    window.openLegal = function(key){
      overlay.classList.add("active");
      legalModal.classList.add("active");
      overlay.setAttribute("aria-hidden","false");
      legalModal.setAttribute("aria-hidden","false");
      lockBody(true);
      if (key) activateLegal(key);
    }

    window.closeLegal = function(){
      legalModal.classList.remove("active");
      overlay.classList.remove("active");
      legalModal.setAttribute("aria-hidden","true");
      overlay.setAttribute("aria-hidden","true");
      lockBody(false);
    }

    function activateLegal(key){
      $$(".tabBtn").forEach(b=>b.classList.toggle("active", b.dataset.legalTab===key));
      $$(".legalBlock").forEach(a=>a.classList.toggle("active", a.dataset.legalBlock===key));
    }

    // Binds (sin depender de onclick)
    $("#cartBtnTrigger")?.addEventListener("click", ()=>window.openDrawer());
    $("#viewCartBtn")?.addEventListener("click", ()=>window.openDrawer());
    $("#paybarCartBtn")?.addEventListener("click", ()=>window.openDrawer());

    $$(".champCard").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        window.openCatalog(btn.dataset.open, btn.dataset.title);
      });
    });

    $("#buyNowBtn")?.addEventListener("click", ()=>{
      const id = $("#buyNowBtn").dataset.open;
      const title = $("#buyNowBtn").dataset.title;
      window.openCatalog(id, title);
    });

    overlay.addEventListener("click", ()=>window.closeAll());
    $$("[data-close='all']").forEach(b=>b.addEventListener("click", ()=>window.closeAll()));
    $$("[data-close='legal']").forEach(b=>b.addEventListener("click", ()=>window.closeLegal()));

    // Legal buttons
    $$("[data-legal]").forEach(el=>{
      el.addEventListener("click", ()=>{
        window.openLegal(el.dataset.legal);
      });
    });
    $$(".tabBtn").forEach(b=>{
      b.addEventListener("click", ()=>activateLegal(b.dataset.legalTab));
    });

    // Escape
    document.addEventListener("keydown", (e)=>{
      if (e.key === "Escape") window.closeAll();
    });

    // Nota r√°pida: si el carrito est√° vac√≠o, al menos no se siente roto
    const countEl = $("#cartCount");
    if (countEl && String(countEl.textContent||"").trim()==="0") {
      // sin molestar, solo dejamos UI limpia
    }
  </script>
</body>
</html>